---
sidebar_label: FalkorDB
---

# FalkorDB

The [@falkordb/langchain-ts](https://www.npmjs.com/package/@falkordb/langchain-ts) package enables developers to use FalkorDB's blazing fast graph database alongside their LangChain applications.

[FalkorDB](https://www.falkordb.com/) is a high-performance graph database built on Redis that enables you to build knowledge graphs and perform complex graph queries with exceptional speed.

## Features

- üöÄ **Blazing Fast**: Built on Redis with optimized graph operations
- üîó **Cypher Support**: Use the powerful Cypher query language
- üß† **LLM Integration**: Seamless integration with LangChain's QA chains
- üìä **Schema Management**: Automatic schema detection and updates
- üîÑ **Async/Await**: Modern async API
- üìù **TypeScript**: Full TypeScript support with type definitions

## Installation

```bash npm2yarn
npm install @falkordb/langchain-ts falkordb
```

You'll also need LangChain and a language model:

```bash npm2yarn
npm install langchain @langchain/openai
```

## Quick Start

### 1. Start FalkorDB

The easiest way to run FalkorDB is with Docker:

```bash
docker run -p 6379:6379 -it --rm falkordb/falkordb:latest
```

### 2. Basic Usage

```typescript
import { FalkorDBGraph } from "@falkordb/langchain-ts";
import { ChatOpenAI } from "@langchain/openai";
import { GraphCypherQAChain } from "@langchain/community/chains/graph_qa/cypher";

// Initialize FalkorDB connection
const graph = await FalkorDBGraph.initialize({
  host: "localhost",
  port: 6379,
  graph: "movies" // Your graph name
});

// Set up the language model
const model = new ChatOpenAI({ temperature: 0 });

// Create and populate the graph with some data
await graph.query(
  "CREATE (a:Actor {name:'Bruce Willis'})" +
  "-[:ACTED_IN]->(:Movie {title: 'Pulp Fiction'})"
);

// Refresh the graph schema
await graph.refreshSchema();

// Create a graph QA chain
const chain = GraphCypherQAChain.fromLLM({
  llm: model,
  graph: graph as any, // Type assertion for LangChain compatibility
});

// Ask questions about your graph
const response = await chain.run("Who played in Pulp Fiction?");
console.log(response);
// Output: Bruce Willis played in Pulp Fiction.

// Clean up
await graph.close();
```

## API Reference

### FalkorDBGraph

#### `initialize(config: FalkorDBGraphConfig): Promise<FalkorDBGraph>`

Creates and initializes a new FalkorDB connection.

**Config Options:**

- `host` (string, optional): Database host. Default: `"localhost"`
- `port` (number, optional): Database port. Default: `6379`
- `graph` (string, optional): Graph name to use
- `url` (string, optional): Alternative connection URL format
- `enhancedSchema` (boolean, optional): Enable enhanced schema details. Default: `false`

**Example:**
```typescript
const graph = await FalkorDBGraph.initialize({
  host: "localhost",
  port: 6379,
  graph: "myGraph",
  enhancedSchema: true
});
```

#### `query(query: string): Promise<any>`

Executes a Cypher query on the graph.

```typescript
const result = await graph.query(
  "MATCH (n:Person) RETURN n.name LIMIT 10"
);
```

#### `refreshSchema(): Promise<void>`

Updates the graph schema information.

```typescript
await graph.refreshSchema();
console.log(graph.getSchema());
```

#### `getSchema(): string`

Returns the current graph schema as a formatted string.

#### `getStructuredSchema(): StructuredSchema`

Returns the structured schema object containing node properties, relationship properties, and relationships.

#### `close(): Promise<void>`

Closes the database connection.

```typescript
await graph.close();
```

## Advanced Usage

### Custom Cypher Queries

```typescript
const graph = await FalkorDBGraph.initialize({
  host: "localhost",
  port: 6379,
  graph: "movies"
});

// Complex query
const result = await graph.query(`
  MATCH (a:Actor)-[:ACTED_IN]->(m:Movie)
  WHERE m.year > 2000
  RETURN a.name, m.title, m.year
  ORDER BY m.year DESC
  LIMIT 10
`);

console.log(result.data);
```

### Multiple Queries

```typescript
await graph.executeQueries([
  "CREATE (p:Person {name: 'Alice'})",
  "CREATE (p:Person {name: 'Bob'})",
  "MATCH (a:Person {name: 'Alice'}), (b:Person {name: 'Bob'}) CREATE (a)-[:KNOWS]->(b)"
]);
```

### Working with Schema

```typescript
await graph.refreshSchema();

// Get formatted schema
const schema = graph.getSchema();
console.log(schema);

// Get structured schema
const structuredSchema = graph.getStructuredSchema();
console.log(structuredSchema.nodeProps);
console.log(structuredSchema.relationships);
```

## Requirements

- Node.js >= 18
- FalkorDB server running (Redis-compatible)
- LangChain >= 0.1.0

## Examples

For more examples, see the [@falkordb/langchain-ts repository](https://github.com/FalkorDB/FalkorDB-Langchain-js) on GitHub.

## License

MIT

## Support

- üì´ [GitHub Issues](https://github.com/FalkorDB/FalkorDB-Langchain-js/issues)
- üåê Website: https://www.falkordb.com/